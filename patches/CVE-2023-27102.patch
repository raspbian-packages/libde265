commit 0b1752abff97cb542941d317a0d18aa50cb199b1
Author: Dirk Farin <dirk.farin@gmail.com>
Date:   Sat Mar 4 10:32:43 2023 +0100

    check whether referenced PPS exists (fixes #393)

Index: libde265-1.0.11/libde265/decctx.cc
===================================================================
--- libde265-1.0.11.orig/libde265/decctx.cc	2023-11-19 19:08:18.703219858 +0100
+++ libde265-1.0.11/libde265/decctx.cc	2023-11-19 19:08:18.703219858 +0100
@@ -2276,9 +2276,10 @@
   // get PPS and SPS for this slice
 
   int pps_id = hdr->slice_pic_parameter_set_id;
-  if (pps[pps_id]->pps_read==false) {
+  if (pps[pps_id]==nullptr || pps[pps_id]->pps_read==false) {
     logerror(LogHeaders, "PPS %d has not been read\n", pps_id);
-    assert(false); // TODO
+    img->decctx->add_warning(DE265_WARNING_NONEXISTING_PPS_REFERENCED, false);
+    return false;
   }
 
   current_pps = pps[pps_id];
